"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9705],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>r});var i=t(6540);const o={},s=i.createContext(o);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},9416:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"tutorial/pub/publish/changelog","title":"Changelog","description":"You can customize how the changelog is generated using the changelog section in the config file:","source":"@site/docs/tutorial/pub/publish/changelog.mdx","sourceDirName":"tutorial/pub/publish","slug":"/tutorial/pub/publish/changelog","permalink":"/docs/tutorial/pub/publish/changelog","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Blobs (s3, gcs, azblob)","permalink":"/docs/tutorial/pub/publish/blob"},"next":{"title":"Krew Plugin Manifests","permalink":"/docs/tutorial/pub/publish/krew"}}');var o=t(4848),s=t(8453);const a={},r="Changelog",l={},h=[];function g(e){const n={admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"changelog",children:"Changelog"})}),"\n",(0,o.jsxs)(n.p,{children:["You can customize how the changelog is generated using the ",(0,o.jsx)(n.code,{children:"changelog"})," section in the config file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",metastring:'title=".kmdopkg.yaml"',children:"changelog:\n  # Set this to true if you don't want any changelog at all.\n  #\n  # Warning: this will also ignore any changelog files passed via `--release-notes`,\n  # and will render an empty changelog.\n  #\n  # This may result in an empty release notes on GitHub/GitLab/Gitea.\n  #\n  # Templates: allowed.\n  disable: \"{{ .Env.CREATE_CHANGELOG }}\"\n\n  # Changelog generation implementation to use.\n  #\n  # Valid options are:\n  # - `git`: uses `git log`;\n  # - `github`: uses the compare GitHub API, appending the author username to the changelog.\n  # - `gitlab`: uses the compare GitLab API, appending the author name and email to the changelog (requires a personal access token).\n  # - `gitea`: uses the compare Gitea API, appending the author username to the changelog.\n  # - `github-native`: uses the GitHub release notes generation API, disables groups, sort, and any further formatting features.\n  #\n  # Default: 'git'.\n  use: github\n\n  # Format to use for commit formatting.\n  #\n  # Templates: allowed.\n  #\n  # Default:\n  #    if 'git': '{{ .SHA }} {{ .Message }}'\n  #   otherwise: '{{ .SHA }}: {{ .Message }} ({{ with .AuthorUsername }}@{{ . }}{{ else }}{{ .AuthorName }} <{{ .AuthorEmail }}>{{ end }})'.\n  #\n  # Extra template fields:\n  # - `SHA`: the commit SHA1\n  # - `Message`: the first line of the commit message, otherwise known as commit subject\n  # - `AuthorName`: the author full name (considers mailmap if 'git')\n  # - `AuthorEmail`: the author email (considers mailmap if 'git')\n  # - `AuthorUsername`: github/gitlab/gitea username - not available if 'git'\n  #\n  format: \"{{.SHA}}: {{.Message}} (@{{.AuthorUsername}})\"\n\n  # Sorts the changelog by the commit's messages.\n  # Could either be asc, desc or empty\n  # Empty means 'no sorting', it'll use the output of `git log` as is.\n  #\n  # Disabled when using 'github-native'.\n  sort: asc\n\n  # Max commit hash length to use in the changelog.\n  #\n  # 0: use whatever the changelog implementation gives you\n  # -1: remove the commit hash from the changelog\n  # any other number: max length.\n  #\n  # Disabled when using 'github-native'.\n  abbrev: -1\n\n\n  # Compose your release notes with AI.\n  # See below for more details.\n  ai:\n    use: anthropic\n    prompt: \"The prompt...\"\n\n\n  # Group commits messages by given regex and title.\n  # Order value defines the order of the groups.\n  # Providing no regex means all commits will be grouped under the default group.\n  #\n  # Matches are performed against the first line of the commit message only,\n  # prefixed with the commit SHA1, usually in the form of\n  # `<abbrev-commit>[:] <title-commit>`.\n  # Regex use RE2 syntax as defined here: https://github.com/google/re2/wiki/Syntax.\n  #\n  # Disabled when using 'github-native'.\n  groups:\n    - title: Features\n      regexp: '^.*?feat(\\([[:word:]]+\\))??!?:.+$'\n      order: 0\n    - title: \"Bug fixes\"\n      regexp: '^.*?bug(\\([[:word:]]+\\))??!?:.+$'\n      order: 1\n    - title: Others\n      order: 999\n\n\n  # Further filter changelog entries.\n  #\n  # Disabled when using 'github-native'.\n  filters:\n    # Commit messages matching the regexp listed here will be removed from\n    # the changelog\n    #\n    # Matches are performed against the first line of the commit message only.\n    exclude:\n      - \"^docs:\"\n      - typo\n      - (?i)foo\n\n    # Commit messages matching the regexp listed here will be the only ones\n    # added to the changelog\n    #\n    # If include is not-empty, exclude will be ignored.\n    #\n    # Matches are performed against the first line of the commit message only.\n    include:\n      - \"^feat:\"\n"})}),"\n",(0,o.jsxs)(n.admonition,{type:"warning",children:[(0,o.jsx)(n.p,{children:"Some things to keep an eye on:"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"github-native"})," changelog does not support ",(0,o.jsx)(n.code,{children:"groups"}),", ",(0,o.jsx)(n.code,{children:"sort"}),", and ",(0,o.jsx)(n.code,{children:"filter"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["When releasing a [nightly][], ",(0,o.jsx)(n.code,{children:"use"})," will fallback to ",(0,o.jsx)(n.code,{children:"git"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["The ",(0,o.jsx)(n.code,{children:"github"})," changelog will only work if both tags exist in GitHub."]}),"\n"]})]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(g,{...e})}):g(e)}}}]);
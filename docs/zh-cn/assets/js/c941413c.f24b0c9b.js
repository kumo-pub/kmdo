"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[5645],{2619:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"tutorial/pub/archive/source","title":"Source Archive","description":"You may add the current tag source archive to the release as well. This is","source":"@site/docs/tutorial/pub/archive/source.mdx","sourceDirName":"tutorial/pub/archive","slug":"/tutorial/pub/archive/source","permalink":"/zh-cn/docs/tutorial/pub/archive/source","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Snapcraft Packages (snaps)","permalink":"/zh-cn/docs/tutorial/pub/archive/snapcraft"},"next":{"title":"Buiding","permalink":"/zh-cn/docs/tutorial/pub/builds/"}}');var a=n(4848),o=n(8453);const i={},s="Source Archive",c={},l=[];function u(e){const t={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"source-archive",children:"Source Archive"})}),"\n",(0,a.jsx)(t.p,{children:"You may add the current tag source archive to the release as well. This is\nparticularly useful if you want to sign it, for example."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-yaml",metastring:'title=".kmdopkg.yaml"',children:'source:\n  # Whether this pipe is enabled or not.\n  enabled: true\n\n  # Name template of the final archive.\n  #\n  # Default: \'{{ .ProjectName }}-{{ .Version }}\'.\n  # Templates: allowed.\n  name_template: "{{ .ProjectName }}"\n\n  # Format of the archive.\n  #\n  # Valid formats are: tar, tgz, tar.gz, and zip.\n  #\n  # Default: \'tar.gz\'.\n  format: "tar"\n\n  # Prefix.\n  # String to prepend to each filename in the archive.\n  #\n  # Templates: allowed.\n  prefix_template: "{{ .ProjectName }}-{{ .Version }}/"\n\n  # Additional files/globs you want to add to the source archive.\n  #\n  # Templates: allowed.\n  files:\n    - LICENSE.txt\n    - README_{{.Os}}.md\n    - CHANGELOG.md\n    - docs/*\n    - design/*.png\n    - templates/**/*\n    # a more complete example, check the globbing deep dive below\n    - src: "*.md"\n      dst: docs\n\n      # Strip parent directories when adding files to the archive.\n      strip_parent: true\n\n      # File info.\n      # Not all fields are supported by all formats available formats.\n      # Default: file info of the source file.\n      info:\n        owner: root\n        group: root\n        mode: 0644\n        # format is `time.RFC3339Nano`\n        mtime: 2008-01-02T15:04:05Z\n\n'})})]})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>s});var r=n(6540);const a={},o=r.createContext(a);function i(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);
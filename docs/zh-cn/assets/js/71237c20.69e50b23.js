"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[8418],{973:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tutorial/pub/how-it-works","title":"How it works","description":"Kmdo\'s goal is to automate most of the boring work you\'ll have while","source":"@site/docs/tutorial/pub/how-it-works.mdx","sourceDirName":"tutorial/pub","slug":"/tutorial/pub/how-it-works","permalink":"/kmdo/zh-cn/docs/tutorial/pub/how-it-works","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Templates","permalink":"/kmdo/zh-cn/docs/tutorial/pub/general/templates"},"next":{"title":"Kmdo pub","permalink":"/kmdo/zh-cn/docs/tutorial/pub/overview"}}');var o=s(4848),i=s(8453);const r={},l="How it works",a={},c=[{value:"What happens when you release",id:"what-happens-when-you-release",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"how-it-works",children:"How it works"})}),"\n",(0,o.jsx)(n.p,{children:"Kmdo's goal is to automate most of the boring work you'll have while\nreleasing software, ideally using sensible defaults and making the most common\nuse cases easy."}),"\n",(0,o.jsx)(n.p,{children:"Kmdo expects a couple of things:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["a ",(0,o.jsx)(n.code,{children:".kmdopkg.yaml"})," file with the configuration (see the\n",(0,o.jsx)(n.a,{href:"/kmdo/zh-cn/docs/tutorial/pub/overview",children:"overview"})," for more info)"]}),"\n",(0,o.jsx)(n.li,{children:"a clean working tree"}),"\n",(0,o.jsxs)(n.li,{children:["a SemVer-compatible version (e.g. ",(0,o.jsx)(n.code,{children:"10.21.34-prerelease+buildmeta"}),")"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"And that's it."}),"\n",(0,o.jsx)(n.h2,{id:"what-happens-when-you-release",children:"What happens when you release"}),"\n",(0,o.jsx)(n.p,{children:"A Kmdo run is split into 4 major steps:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"defaulting"}),": configures sensible defaults for each step"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"building"}),": builds the binaries, archives, packages, Docker images, etc"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"publishing"}),": publishes the release to the configured SCM, Docker\nregistries, blob storages..."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"announcing"}),": announces your release to the configured channels"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Some steps might be skipped with ",(0,o.jsx)(n.code,{children:"--skip"})," flags (check the\n",(0,o.jsx)(n.a,{href:"/kmdo/zh-cn/docs/cmd/pub/",children:"command line docs"})," for details)."]}),"\n",(0,o.jsx)(n.p,{children:"If any of the previous steps fails, the next steps will not run."})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var t=s(6540);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[4272],{8403:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"shooting/scoop-archive","title":"Scoop requires single a windows archive","description":"The Scoop pipe requires a Windows build and archive.","source":"@site/docs/shooting/scoop-archive.md","sourceDirName":"shooting","slug":"/shooting/scoop-archive","permalink":"/zh-cn/docs/shooting/scoop-archive","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"shootingSidebar","previous":{"title":"GitHub release upload errors","permalink":"/zh-cn/docs/shooting/release-upload"},"next":{"title":"Version-related configuration errors","permalink":"/zh-cn/docs/shooting/version"}}');var s=o(4848),r=o(8453);const t={},a="Scoop requires single a windows archive",c={},l=[{value:"1. Using binary archive format",id:"1-using-binary-archive-format",level:2},{value:"2. Multiple archives for the same GOOS/GOARCH",id:"2-multiple-archives-for-the-same-goosgoarch",level:2},{value:"Footnotes",id:"footnotes",level:2}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"scoop-requires-single-a-windows-archive",children:"Scoop requires single a windows archive"})}),"\n",(0,s.jsx)(n.p,{children:"The Scoop pipe requires a Windows build and archive."}),"\n",(0,s.jsx)(n.p,{children:"Usually, if you see this error, one of these 2 things probably happened:"}),"\n",(0,s.jsx)(n.h2,{id:"1-using-binary-archive-format",children:"1. Using binary archive format"}),"\n",(0,s.jsxs)(n.p,{children:["The archive should not be in ",(0,s.jsx)(n.code,{children:"binary"})," format."]}),"\n",(0,s.jsx)(n.p,{children:"For instance, this won't work:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"archives:\n  - format: binary\n"})}),"\n",(0,s.jsx)(n.p,{children:"But this would:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"archives:\n  - format: zip\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2-multiple-archives-for-the-same-goosgoarch",children:"2. Multiple archives for the same GOOS/GOARCH"}),"\n",(0,s.jsxs)(n.p,{children:["If you build multiple binaries and ship them in multiple archives, for example,\none for the ",(0,s.jsx)(n.em,{children:"client"})," and another one for the ",(0,s.jsx)(n.em,{children:"server"})," of a given project, you\nwill need to have multiple ",(0,s.jsx)(n.code,{children:"scoops"})," in your configuration as well."]}),"\n",(0,s.jsx)(n.p,{children:"Scoops only allow to install a single archive per manifest, so we need to do\nsomething like this:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"scoops:\n  - ids: [client]\n    name: foo\n    # ...\n  - ids: [server]\n    name: food\n    # ...\n"})}),"\n",(0,s.jsx)(n.h2,{id:"footnotes",children:"Footnotes"}),"\n",(0,s.jsxs)(n.p,{children:["Also notice the ",(0,s.jsx)(n.code,{children:"goamd64"})," options, it must match the one from your build.\nBy default, only ",(0,s.jsx)(n.code,{children:"GOAMD64"})," ",(0,s.jsx)(n.code,{children:"v1"})," is built."]}),"\n",(0,s.jsxs)(n.p,{children:["Please refer to the ",(0,s.jsx)(n.a,{href:"/zh-cn/docs/tutorial/pub/publish/scoop",children:"documentation"})," for more details."]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var i=o(6540);const s={},r=i.createContext(s);function t(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);
"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[6184],{6672:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"tutorial/base/docker/centos_install","title":"Docker Engine \u5b89\u88c5\u6587\u6863\uff08CentOS / Rocky / AlmaLinux\uff09","description":"\u9002\u7528\uff1a","source":"@site/docs/tutorial/base/docker/centos_install.mdx","sourceDirName":"tutorial/base/docker","slug":"/tutorial/base/docker/centos_install","permalink":"/zh-cn/docs/tutorial/base/docker/centos_install","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Docker","permalink":"/zh-cn/docs/tutorial/base/docker/"},"next":{"title":"Docker Engine \u5b89\u88c5\u6587\u6863\uff08Ubuntu\uff09","permalink":"/zh-cn/docs/tutorial/base/docker/ubuntu_install"}}');var l=r(4848),o=r(8453);const s={},d="Docker Engine \u5b89\u88c5\u6587\u6863\uff08CentOS / Rocky / AlmaLinux\uff09",i={},a=[{value:"1. \u79fb\u9664\u65e7\u7248\u672c\uff08\u53ef\u9009\uff09",id:"1-\u79fb\u9664\u65e7\u7248\u672c\u53ef\u9009",level:2},{value:"2. \u5b89\u88c5\u4f9d\u8d56",id:"2-\u5b89\u88c5\u4f9d\u8d56",level:2},{value:"3. \u6dfb\u52a0 Docker \u5b98\u65b9 repo",id:"3-\u6dfb\u52a0-docker-\u5b98\u65b9-repo",level:2},{value:"RHEL8/9\uff08Rocky 8/9\u3001Alma 8/9\u3001CentOS Stream 8/9\uff09",id:"rhel89rocky-89alma-89centos-stream-89",level:3},{value:"4. \u5b89\u88c5 Docker Engine",id:"4-\u5b89\u88c5-docker-engine",level:2},{value:"5. \u542f\u52a8\u5e76\u542f\u7528 Docker",id:"5-\u542f\u52a8\u5e76\u542f\u7528-docker",level:2},{value:"6. \u5c06\u5f53\u524d\u7528\u6237\u52a0\u5165 docker \u7ec4\uff08\u63a8\u8350\uff09",id:"6-\u5c06\u5f53\u524d\u7528\u6237\u52a0\u5165-docker-\u7ec4\u63a8\u8350",level:2},{value:"7. \u9a8c\u8bc1",id:"7-\u9a8c\u8bc1",level:2},{value:"8. \u9632\u706b\u5899\uff08\u53ef\u9009\uff09",id:"8-\u9632\u706b\u5899\u53ef\u9009",level:2}];function t(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"docker-engine-\u5b89\u88c5\u6587\u6863centos--rocky--almalinux",children:"Docker Engine \u5b89\u88c5\u6587\u6863\uff08CentOS / Rocky / AlmaLinux\uff09"})}),"\n",(0,l.jsx)(n.p,{children:"\u9002\u7528\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"CentOS 7\uff08\u5b98\u65b9\u5df2 EOL \u4f46\u4ecd\u53ef\u88c5\uff09"}),"\n",(0,l.jsx)(n.li,{children:"Rocky Linux 8 / 9"}),"\n",(0,l.jsx)(n.li,{children:"AlmaLinux 8 / 9"}),"\n",(0,l.jsx)(n.li,{children:"\u5176\u4ed6 RHEL8/9 \u884d\u751f\u53d1\u884c\u7248"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u6c42\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5f53\u524d\u7528\u6237\u5177\u6709 ",(0,l.jsx)(n.code,{children:"sudo"})," \u6743\u9650"]}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"1-\u79fb\u9664\u65e7\u7248\u672c\u53ef\u9009",children:"1. \u79fb\u9664\u65e7\u7248\u672c\uff08\u53ef\u9009\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo yum remove -y docker docker-client docker-client-latest docker-common \\\n    docker-latest docker-latest-logrotate docker-logrotate docker-engine || true\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"2-\u5b89\u88c5\u4f9d\u8d56",children:"2. \u5b89\u88c5\u4f9d\u8d56"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo yum install -y yum-utils device-mapper-persistent-data lvm2\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"3-\u6dfb\u52a0-docker-\u5b98\u65b9-repo",children:"3. \u6dfb\u52a0 Docker \u5b98\u65b9 repo"}),"\n",(0,l.jsx)(n.h3,{id:"rhel89rocky-89alma-89centos-stream-89",children:"RHEL8/9\uff08Rocky 8/9\u3001Alma 8/9\u3001CentOS Stream 8/9\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u6ce8\uff1aDocker \u5b98\u65b9\u4ecd\u4f7f\u7528 centos \u8def\u5f84\uff0c\u4f46\u517c\u5bb9 RHEL8/9 \u7cfb\u5217\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"4-\u5b89\u88c5-docker-engine",children:"4. \u5b89\u88c5 Docker Engine"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo yum install -y docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"5-\u542f\u52a8\u5e76\u542f\u7528-docker",children:"5. \u542f\u52a8\u5e76\u542f\u7528 Docker"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo systemctl start docker\nsudo systemctl enable docker\n"})}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"6-\u5c06\u5f53\u524d\u7528\u6237\u52a0\u5165-docker-\u7ec4\u63a8\u8350",children:"6. \u5c06\u5f53\u524d\u7528\u6237\u52a0\u5165 docker \u7ec4\uff08\u63a8\u8350\uff09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo usermod -aG docker $USER\n"})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"\u91cd\u65b0\u767b\u5f55\u540e\u751f\u6548\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"7-\u9a8c\u8bc1",children:"7. \u9a8c\u8bc1"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run hello-world\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u51fa\u73b0 ",(0,l.jsx)(n.code,{children:"Hello from Docker!"})," \u8868\u793a\u6210\u529f\u3002"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"8-\u9632\u706b\u5899\u53ef\u9009",children:"8. \u9632\u706b\u5899\uff08\u53ef\u9009\uff09"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679c\u4f60\u4f7f\u7528 firewalld\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --permanent --add-masquerade\nsudo firewall-cmd --reload\n"})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var c=r(6540);const l={},o=c.createContext(l);function s(e){const n=c.useContext(o);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),c.createElement(o.Provider,{value:n},e.children)}}}]);
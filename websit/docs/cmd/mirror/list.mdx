---
slug: /cmd/mirror/list
---
# kmdo mirror list 命令文档
## 概述
kmdo mirror list 命令用于列出镜像索引中已注册的组件，支持两种核心模式：批量列出符合筛选条件的组件列表、查询单个组件的详细信息及版本清单。可通过隐藏/废弃状态筛选组件，也可精准查询指定组件的基础信息和历史版本，满足批量盘点与单个组件追溯需求。

## 命令结构
kmdo mirror list [FLAGS]

## 核心功能
1. 批量列出组件：按隐藏（hide）、废弃（deprecate）状态筛选组件，以表格形式展示核心信息。
2. 单个组件查询：通过 --name/-n 指定组件名称，查看其基础信息（所有者、描述、状态等）和历史版本清单（按时间倒序排序）。
3. 版本排序与格式化：查询单个组件时，版本按时间戳倒序排列（最新版本优先），Git哈希自动截断优化显示，确保输出整洁易读。
4. 空值处理：基础信息中空字段以“-”填充，无版本时显示明确提示，避免歧义。

## 命令 Flags 说明
| Flag | 简写 | 类型 | 默认值 | 描述 |
|------|------|------|--------|------|
| --hide | -H | 布尔值 | false | 批量列出时包含隐藏组件（默认仅显示可见组件） |
| --deprecate | -d | 布尔值 | true | 批量列出时包含废弃组件（默认显示；设为false时隐藏废弃组件） |
| --name | -n | 字符串 | "" | 指定组件名称，查询该组件的详细信息及版本清单（非空时触发单个查询模式） |

## 详细使用场景与说明
### 场景1：批量列出组件（默认模式）
#### 功能
按筛选条件批量展示组件列表，包含名称、所有者、隐藏状态、废弃状态及描述，支持统计总数。
#### 用法
# 默认列出：可见组件（含废弃）
kmdo mirror list

# 包含隐藏组件，排除废弃组件
kmdo mirror list -H -d=false

# 仅显示正常组件（可见+非废弃）
kmdo mirror list -d=false
#### 输出示例
=====================================================================================
KUMO Mirror Index Component List
=====================================================================================

NAME                 OWNER           HIDE       DEPRECATE   DESCRIPTION
-------------------------------------------------------------------------------------
component-a          team-dev        No         No          Core service component
component-b          team-test       No         Yes         Legacy test component (deprecated)
component-c          team-data       No         No          Data processing component
component-d          team-infra      Yes        No          Internal infrastructure component (hidden)

Total components: 4

### 场景2：查询单个组件的详细信息与版本
#### 功能
展示指定组件的完整基础信息（所有者、邮箱、源码仓库等）和所有历史版本（含版本号、发布渠道、时间戳等）。
#### 用法
```shell
kmdo mirror list --name <component-name>
# 或简写
kmdo mirror list -n <component-name>
#### 示例
kmdo mirror list -n component-a
#### 输出示例
=== Component Basic Information ===
Name                : component-a
Owner               : team-dev
Description         : Core service component
Owner Email         : dev-team@kmdo.com
Source Repository   : https://github.com/kumose/component-a.git
Homepage            : https://kmdo.com/components/component-a
Documentation       : https://docs.kmdo.com/component-a
Hidden              : No
Deprecated          : No

=== Component Versions (3 total) ===
Version         Channel       Timestamp               Git Tree         Binary Path
------------------------------------------------------------------------------------------------
v1.2.0          stable        2024-06-15T14:30:00+08:00 a1b2c3d4e5f678... dist/component-a-v1.2.0.tar.gz
v1.1.0          beta          2024-05-20T10:15:00+08:00 d7e8f9a0b1c2d3... dist/component-a-v1.1.0.tar.gz
v1.0.0          stable        2024-04-01T09:00:00+08:00 g3h4i5j6k7l8m9n... dist/component-a-v1.0.0.tar.gz
```
### 场景3：查询无版本记录的组件
#### 输出示例
```shell
=== Component Basic Information ===
Name                : component-e
Owner               : team-new
Description         : New test component
Owner Email         : new-team@kmdo.com
Source Repository   : https://github.com/kumose/component-e.git
Homepage            : -
Documentation       : -
Hidden              : No
Deprecated          : No

=== Component Versions (0 total) ===
No versions found for this component
```
## 输出字段说明
### 1. 批量列出模式字段
| 字段 | 含义 |
|------|------|
| NAME | 组件名称（唯一标识） |
| OWNER | 组件所属团队/个人 |
| HIDE | 是否隐藏（Yes/No） |
| DEPRECATE | 是否废弃（Yes/No） |
| DESCRIPTION | 组件功能描述 |
| Total components | 符合筛选条件的组件总数 |

### 2. 单个组件查询模式字段
#### 基础信息字段
| 字段 | 含义 |
|------|------|
| Name | 组件名称 |
| Owner | 组件所属团队/个人 |
| Description | 组件功能描述 |
| Owner Email | 所有者邮箱 |
| Source Repository | 源码仓库地址 |
| Homepage | 组件官网地址（空值显示“-”） |
| Documentation | 文档地址（空值显示“-”） |
| Hidden | 是否隐藏（Yes/No） |
| Deprecated | 是否废弃（Yes/No） |

#### 版本信息字段
| 字段 | 含义 |
|------|------|
| Version | 组件版本号（遵循语义化版本规范） |
| Channel | 发布渠道（stable/beta/nightly等） |
| Timestamp | 发布时间戳（RFC3339格式） |
| Git Tree | 组件目录的Git树哈希（截断为15字符，末尾加“...”） |
| Binary Path | 二进制包在镜像仓库中的路径 |

## 注意事项
1. 模式切换逻辑：--name/-n 不为空时，自动切换到单个组件查询模式，忽略 --hide 和 --deprecate 筛选条件。
2. 版本排序规则：单个组件的版本默认按发布时间戳倒序排列，最新版本显示在最上方，便于快速查看最新状态。
3. 字段长度优化：Git树哈希默认截断为15字符，避免过长字段破坏表格格式；描述等字段超长时按终端宽度自动适配。
4. 依赖说明：查询单个组件的版本信息前，需确保该组件已通过 `kmdo mirror publish` 发布版本，否则显示“无版本记录”。
5. 在线文档：详细使用说明可访问 https://docs.kumose.cc/kmdo/docs/cmd/mirror/list 查看。

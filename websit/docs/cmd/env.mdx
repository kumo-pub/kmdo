---
slug: /cmd/env
---

# kmdo env 命令文档

## 概述
kmdo env 命令用于管理 kmdo 系统环境变量，支持查看当前环境变量、初始化/重新加载环境配置、集成环境变量到 Shell 等操作。

## 命令结构
kmdo env [COMMAND] [ARGUMENTS] [FLAGS]

## 基础命令列表
| 命令 | 描述 |
|------|------|
| kmdo env | 显示 env 命令帮助信息 |
| kmdo env show | 查看环境变量（kmdo 核心变量或指定系统变量） |
| kmdo env init | 初始化或重新加载 kmdo 环境变量（生成 kmdo.env 文件） |
| kmdo env integrate | 输出环境变量集成命令，检查是否已集成 |

## 详细命令说明

### 1. kmdo env show
#### 功能
查看 kmdo 核心环境变量或指定的系统环境变量。

#### 用法
# 查看所有 kmdo 核心环境变量
kmdo env show

# 查看指定的系统环境变量
```shell
kmdo env show <ENV_KEY>
```
#### 参数说明
| 参数 | 类型 | 描述 |
|------|------|------|
| `<ENV_KEY>` | 可选参数 | 系统环境变量名（如 PATH、KMDO_HOME） |

#### 示例
# 查看 kmdo 核心环境变量（Home、Bin、Exe）
kmdo env show

# 查看系统 PATH 环境变量
kmdo env show PATH

# 查看未设置的环境变量（输出 "not set"）
kmdo env show KMDO_TEST

#### 输出说明
- 核心环境变量输出（黄色标识变量名）：
Home=/Users/username/.kmdo
Bin=/Users/username/.kmdo/bin
Exe=/usr/local/bin/kmdo

- 指定环境变量输出（已设置/未设置）：
PATH=/usr/local/bin:/usr/bin:/bin
KMDO_TEST=not set

---

### 2. kmdo env init
#### 功能
初始化 kmdo 环境变量（生成 kmdo.env 配置文件），支持强制重新初始化（覆盖现有配置）。

#### 用法
# 查看帮助（无实际操作）
kmdo env init

# 强制重新初始化环境变量（覆盖现有配置）
kmdo env init --force
# 或简写
kmdo env init -f

#### Flags 说明
| Flag | 简写 | 类型 | 描述 |
|------|------|------|------|
| --force | -f | 布尔值 | 强制重新初始化，覆盖已存在的 kmdo.env 文件和配置 |

#### 示例
# 强制重新初始化 kmdo 环境
kmdo env init -f

#### 执行结果
- 成功输出（绿色标识成功信息，黄色标识执行命令）：
✅  Success: kmdo environment reinitialized successfully!
Run in shell: source /Users/username/.kmdo/kmdo.env
Effect: Latest environment variables take effect immediately after running the command above

- 说明：执行 `source <kmdo.env路径>` 后，新的环境变量会立即生效。

---

### 3. kmdo env integrate
#### 功能
输出将 kmdo 环境变量集成到 Shell 的命令，并检查当前是否已集成。

#### 用法
kmdo env integrate

#### 示例
# 查看集成命令并检查状态
kmdo env integrate

#### 输出说明
- 未集成时输出（黄色标识执行命令）：
run in shell: " source /Users/username/.kmdo/kmdo.env "

- 已集成时输出（紫色标识提示信息）：
run in shell: " source /Users/username/.kmdo/kmdo.env "
You have already integrated, nothing needs to do

---

### 4. 基础命令：kmdo env
#### 功能
显示 env 命令的帮助信息，包含所有子命令说明。

#### 用法
kmdo env

#### 输出说明
展示 env 命令的简短描述、长描述以及所有子命令列表和用法。

## 环境变量说明
| 变量名 | 描述 |
|--------|------|
| Home | kmdo 主目录路径 |
| Bin | kmdo 二进制文件目录路径 |
| Exe | kmdo 当前执行文件路径 |
| RootEnvPath | kmdo.env 配置文件路径（用于 source 生效环境变量） |

## 注意事项
1. `kmdo env init --force` 会覆盖已存在的 kmdo.env 文件，执行前请确认是否需要备份现有配置。
2. 环境变量集成后，仅对当前 Shell 会话生效；如需永久生效，需将 `source <RootEnvPath>` 命令添加到 Shell 配置文件（如 ~/.bashrc、~/.zshrc）。
3. 若执行 `kmdo env show <ENV_KEY>` 显示 not set，表示该环境变量未在系统中设置。